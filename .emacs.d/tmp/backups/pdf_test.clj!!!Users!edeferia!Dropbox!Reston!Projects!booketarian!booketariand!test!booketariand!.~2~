(ns booketariand.core-test
  (:require [clojure.test :refer :all]
            [clojure.java.shell :only [:sh]]
            [booketariand.pdf.extractor :refer :all :as pdf]))

(def -out-dir "./test/booketariand/outputs")

(deftest office_executable-test
  (testing "making sure we have at least one valid [Libre|Offce]Office executable"
    (let [results (pdf/office_executable)]
      (is (> (count results) 0))
        )
      )
  )

(deftest extract-test
  (testing "making sure that converting a *.docx file results in PDF."
    (let [docs ["./test/booketariand/artifacts/Sample.TIFF"
                "./test/booketariand/artifacts/SampleWord.docx"]
          results (pdf/extract docs  {:output -out-dir})
          results_out (map #(:out %) results)
          ]
      (println "true")
      (is (= (count results) 2))
      )))
