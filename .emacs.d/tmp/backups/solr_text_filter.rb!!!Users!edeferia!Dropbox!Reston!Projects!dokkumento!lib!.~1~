class SolrTextFilter
  def strip_control_characters(value)
        return value unless value.is_a? String
        str = ""
        value.chars.inject("") do |str, char|
          unless char.ascii_only? and (char.ord < 32 or char.ord == 127)
            str << char
          end
          str
        end
  end
end
