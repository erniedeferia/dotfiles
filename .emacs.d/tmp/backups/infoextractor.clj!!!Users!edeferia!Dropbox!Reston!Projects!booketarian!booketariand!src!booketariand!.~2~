(ns booketariand.core
  (:use [clojure.java.shell :only [sh]]) )

(def PDF_META_MATCHER {:author #"^Author:\s+([^\n]+)"
                       :date #"^CreationDate:\s+([^\n]+)"
                       :creator #"^Creator:\s+([^\n]+)"
                       :keywords #"^Keywords:\s+([^\n]+)"
                       :producer #"^Producer:\s+([^\n]+)"
                       :subject #"^Subject:\s+([^\n]+)"
                       :title #"^Title:\s+([^\n]+)"
                       :length #"^Pages:\s+([^\n]+)"
                       })

(comment 

(def extract_all
  [pdfs, opts]
  (let [cmd (str "pdfinfo" (first pdfs))
        pdf_meta (:out (sh cmd))
        ]
    (println "test")
    )
  )

)
